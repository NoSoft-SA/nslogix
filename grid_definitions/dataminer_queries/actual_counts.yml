---
:caption: Actual Counts
:sql: SELECT actual_counts.id, actual_counts.standard_count_id,
      actual_counts.basic_pack_id, actual_counts.actual_count_value,
      actual_counts.created_at, actual_counts.updated_at, actual_counts.active,
      actual_counts.standard_pack_ids, actual_counts.size_reference_ids,
      standard_counts.size_count_value AS standard_count, basic_packs.basic_pack_code,
      (SELECT array_agg(fruit_spc.standard_pack_code)
      FROM (SELECT spc.standard_pack_code
      FROM standard_packs spc
      JOIN actual_counts fac ON spc.id = ANY (fac.standard_pack_ids)
      WHERE fac.id = actual_counts.id
      ORDER BY spc.standard_pack_code) AS fruit_spc) AS standard_packs,
      (SELECT array_agg(fruit_sr.size_reference)
      FROM (SELECT sr.size_reference
      FROM size_references sr
      JOIN actual_counts fac ON sr.id = ANY (fac.size_reference_ids)
      WHERE fac.id = actual_counts.id
      ORDER BY sr.size_reference) AS fruit_sr) AS size_references
      FROM actual_counts
      JOIN standard_counts ON standard_counts.id = actual_counts.standard_count_id
      JOIN basic_packs ON basic_packs.id = actual_counts.basic_pack_id
:limit: 
:offset: 
:external_settings: {}
:columns:
  id:
    :name: id
    :sequence_no: 8
    :caption: Id
    :namespaced_name: actual_counts.id
    :data_type: :integer
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  standard_count_id:
    :name: standard_count_id
    :sequence_no: 9
    :caption: Standard count id
    :namespaced_name: actual_counts.standard_count_id
    :data_type: :integer
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  basic_pack_id:
    :name: basic_pack_id
    :sequence_no: 10
    :caption: Basic pack code
    :namespaced_name: actual_counts.basic_pack_id
    :data_type: :integer
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  actual_count_value:
    :name: actual_count_value
    :sequence_no: 3
    :caption: Actual count for pack
    :namespaced_name: actual_counts.actual_count_value
    :data_type: :integer
    :width: 
    :format: 
    :hide: false
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  created_at:
    :name: created_at
    :sequence_no: 6
    :caption: Created at
    :namespaced_name: actual_counts.created_at
    :data_type: :datetime
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  updated_at:
    :name: updated_at
    :sequence_no: 7
    :caption: Updated at
    :namespaced_name: actual_counts.updated_at
    :data_type: :datetime
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  standard_pack_ids:
    :name: standard_pack_ids
    :sequence_no: 11
    :caption: Standard pack code ids
    :namespaced_name: actual_counts.standard_pack_ids
    :data_type: :string
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  size_reference_ids:
    :name: size_reference_ids
    :sequence_no: 12
    :caption: Size reference ids
    :namespaced_name: actual_counts.size_reference_ids
    :data_type: :string
    :width: 
    :format: 
    :hide: true
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  standard_count:
    :name: standard_count
    :sequence_no: 1
    :caption: Standard count
    :namespaced_name: standard_counts.size_count_description
    :data_type: :string
    :width: 
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  basic_pack_code:
    :name: basic_pack_code
    :sequence_no: 2
    :caption: Basic pack code
    :namespaced_name: basic_packs.basic_pack_code
    :data_type: :string
    :width: 
    :format: 
    :hide: false
    :pinned: 
    :groupable: true
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  standard_packs:
    :name: standard_packs
    :sequence_no: 4
    :caption: Standard pack codes
    :namespaced_name: standard_packs
    :data_type: :string
    :width: 
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  size_references:
    :name: size_references
    :sequence_no: 5
    :caption: Size references
    :namespaced_name: size_references
    :data_type: :string
    :width: 
    :format: 
    :hide: false
    :pinned: 
    :groupable: false
    :group_by_seq: 
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
  active:
    :name: active
    :sequence_no: 7
    :caption: Active
    :namespaced_name: actual_counts.active
    :data_type: :boolean
    :width:
    :format:
    :hide: false
    :pinned:
    :groupable: true
    :group_by_seq:
    :group_sum: false
    :group_avg: false
    :group_min: false
    :group_max: false
:query_parameter_definitions:
- :column: actual_counts.standard_count_id
  :caption: Standard count
  :data_type: :integer
  :control_type: :list
  :default_value: 
  :ordered_list: true
  :ui_priority: 1
  :list_def: SELECT size_count_description, id FROM standard_counts ORDER BY
    size_count_description
- :column: actual_counts.basic_pack_id
  :caption: Basic pack code
  :data_type: :integer
  :control_type: :list
  :default_value: 
  :ordered_list: true
  :ui_priority: 1
  :list_def: SELECT basic_pack_code, id FROM basic_packs ORDER BY basic_pack_code
